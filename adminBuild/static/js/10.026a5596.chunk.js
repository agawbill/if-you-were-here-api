(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[10],{102:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(104),c=a.n(s);t.a=function(){return r.a.createElement("div",{className:c.a.loader})}},104:function(e,t,a){e.exports={loader:"FormSpinner_loader__1L2La",load1:"FormSpinner_load1__NnjDF"}},105:function(e,t,a){"use strict";var n=a(3),r=a(5),s=a(7),c=a.n(s),i=a(0),l=a.n(i),o=(a(77),a(9)),u=a.n(o),d={type:u.a.string.isRequired,as:u.a.elementType},m=l.a.forwardRef((function(e,t){var a=e.as,s=void 0===a?"div":a,i=e.className,o=e.type,u=Object(r.a)(e,["as","className","type"]);return l.a.createElement(s,Object(n.a)({},u,{ref:t,className:c()(i,o&&o+"-feedback")}))}));m.displayName="Feedback",m.propTypes=d,m.defaultProps={type:"valid"};var f=m,b=l.a.createContext({controlId:void 0}),p=a(8),v=l.a.forwardRef((function(e,t){var a=e.id,s=e.bsPrefix,o=e.bsCustomPrefix,u=e.className,d=e.isValid,m=e.isInvalid,f=e.isStatic,v=e.as,O=void 0===v?"input":v,j=Object(r.a)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","isStatic","as"]),x=Object(i.useContext)(b),E=x.controlId,P=x.custom?[o,"custom-control-input"]:[s,"form-check-input"],y=P[0],h=P[1];return s=Object(p.b)(y,h),l.a.createElement(O,Object(n.a)({},j,{ref:t,id:a||E,className:c()(u,s,d&&"is-valid",m&&"is-invalid",f&&"position-static")}))}));v.displayName="FormCheckInput",v.defaultProps={type:"checkbox"};var O=v,j=l.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.bsCustomPrefix,o=e.className,u=e.htmlFor,d=Object(r.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),m=Object(i.useContext)(b),f=m.controlId,v=m.custom?[s,"custom-control-label"]:[a,"form-check-label"],O=v[0],j=v[1];return a=Object(p.b)(O,j),l.a.createElement("label",Object(n.a)({},d,{ref:t,htmlFor:u||f,className:c()(o,a)}))}));j.displayName="FormCheckLabel";var x=j,E=l.a.forwardRef((function(e,t){var a=e.id,s=e.bsPrefix,o=e.bsCustomPrefix,u=e.inline,d=e.disabled,m=e.isValid,v=e.isInvalid,j=e.feedback,E=e.className,P=e.style,y=e.title,h=e.type,N=e.label,k=e.children,w=e.custom,g=e.as,C=void 0===g?"input":g,_=Object(r.a)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedback","className","style","title","type","label","children","custom","as"]),F="switch"===h||w,I=F?[o,"custom-control"]:[s,"form-check"],S=I[0],L=I[1];s=Object(p.b)(S,L);var R=Object(i.useContext)(b).controlId,V=Object(i.useMemo)((function(){return{controlId:a||R,custom:F}}),[R,F,a]),B=null!=N&&!1!==N&&!k,H=l.a.createElement(O,Object(n.a)({},_,{type:"switch"===h?"checkbox":h,ref:t,isValid:m,isInvalid:v,isStatic:!B,disabled:d,as:C}));return l.a.createElement(b.Provider,{value:V},l.a.createElement("div",{style:P,className:c()(E,s,F&&"custom-"+h,u&&s+"-inline")},k||l.a.createElement(l.a.Fragment,null,H,B&&l.a.createElement(x,{title:y},N),(m||v)&&l.a.createElement(f,{type:m?"valid":"invalid"},j))))}));E.displayName="FormCheck",E.defaultProps={type:"checkbox",inline:!1,disabled:!1,isValid:!1,isInvalid:!1,title:""},E.Input=O,E.Label=x;var P=E,y=l.a.forwardRef((function(e,t){var a=e.id,s=e.bsPrefix,o=e.bsCustomPrefix,u=e.className,d=e.isValid,m=e.isInvalid,f=e.lang,v=e.as,O=void 0===v?"input":v,j=Object(r.a)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),x=Object(i.useContext)(b),E=x.controlId,P=x.custom?[o,"custom-file-input"]:[s,"form-control-file"],y=P[0],h=P[1];return s=Object(p.b)(y,h),l.a.createElement(O,Object(n.a)({},j,{ref:t,id:a||E,type:"file",lang:f,className:c()(u,s,d&&"is-valid",m&&"is-invalid")}))}));y.displayName="FormFileInput";var h=y,N=l.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.bsCustomPrefix,o=e.className,u=e.htmlFor,d=Object(r.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),m=Object(i.useContext)(b),f=m.controlId,v=m.custom?[s,"custom-file-label"]:[a,"form-file-label"],O=v[0],j=v[1];return a=Object(p.b)(O,j),l.a.createElement("label",Object(n.a)({},d,{ref:t,htmlFor:u||f,className:c()(o,a),"data-browse":d["data-browse"]}))}));N.displayName="FormFileLabel";var k=N,w=l.a.forwardRef((function(e,t){var a=e.id,s=e.bsPrefix,o=e.bsCustomPrefix,u=e.disabled,d=e.isValid,m=e.isInvalid,v=e.feedback,O=e.className,j=e.style,x=e.label,E=e.children,P=e.custom,y=e.lang,N=e["data-browse"],w=e.as,g=void 0===w?"div":w,C=e.inputAs,_=void 0===C?"input":C,F=Object(r.a)(e,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),I=P?[o,"custom"]:[s,"form-file"],S=I[0],L=I[1];s=Object(p.b)(S,L);var R=Object(i.useContext)(b).controlId,V=Object(i.useMemo)((function(){return{controlId:a||R,custom:P}}),[R,P,a]),B=null!=x&&!1!==x&&!E,H=l.a.createElement(h,Object(n.a)({},F,{ref:t,isValid:d,isInvalid:m,disabled:u,as:_,lang:y}));return l.a.createElement(b.Provider,{value:V},l.a.createElement(g,{style:j,className:c()(O,s,P&&"custom-file")},E||l.a.createElement(l.a.Fragment,null,P?l.a.createElement(l.a.Fragment,null,H,B&&l.a.createElement(k,{"data-browse":N},x)):l.a.createElement(l.a.Fragment,null,B&&l.a.createElement(k,null,x),H),(d||m)&&l.a.createElement(f,{type:d?"valid":"invalid"},v))))}));w.displayName="FormFile",w.defaultProps={disabled:!1,isValid:!1,isInvalid:!1},w.Input=h,w.Label=k;var g=w,C=(a(47),l.a.forwardRef((function(e,t){var a,s,o=e.bsPrefix,u=e.bsCustomPrefix,d=e.type,m=e.size,f=e.id,v=e.className,O=e.isValid,j=e.isInvalid,x=e.plaintext,E=e.readOnly,P=e.custom,y=e.as,h=void 0===y?"input":y,N=Object(r.a)(e,["bsPrefix","bsCustomPrefix","type","size","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),k=Object(i.useContext)(b).controlId,w=P?[u,"custom"]:[o,"form-control"],g=w[0],C=w[1];if(o=Object(p.b)(g,C),x)(s={})[o+"-plaintext"]=!0,a=s;else if("file"===d){var _;(_={})[o+"-file"]=!0,a=_}else if("range"===d){var F;(F={})[o+"-range"]=!0,a=F}else if("select"===h&&P){var I;(I={})[o+"-select"]=!0,I[o+"-select-"+m]=m,a=I}else{var S;(S={})[o]=!0,S[o+"-"+m]=m,a=S}return l.a.createElement(h,Object(n.a)({},N,{type:d,ref:t,readOnly:E,id:f||k,className:c()(v,a,O&&"is-valid",j&&"is-invalid")}))})));C.displayName="FormControl",C.Feedback=f;var _=C,F=l.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.className,o=e.children,u=e.controlId,d=e.as,m=void 0===d?"div":d,f=Object(r.a)(e,["bsPrefix","className","children","controlId","as"]);a=Object(p.b)(a,"form-group");var v=Object(i.useMemo)((function(){return{controlId:u}}),[u]);return l.a.createElement(b.Provider,{value:v},l.a.createElement(m,Object(n.a)({},f,{ref:t,className:c()(s,a)}),o))}));F.displayName="FormGroup";var I=F,S=a(101),L=l.a.forwardRef((function(e,t){var a=e.as,s=void 0===a?"label":a,o=e.bsPrefix,u=e.column,d=e.srOnly,m=e.className,f=e.htmlFor,v=Object(r.a)(e,["as","bsPrefix","column","srOnly","className","htmlFor"]),O=Object(i.useContext)(b).controlId;o=Object(p.b)(o,"form-label");var j="col-form-label";"string"===typeof u&&(j=j+"-"+u);var x=c()(m,o,d&&"sr-only",u&&j);return f=f||O,u?l.a.createElement(S.a,Object(n.a)({as:"label",className:x,htmlFor:f},v)):l.a.createElement(s,Object(n.a)({ref:t,className:x,htmlFor:f},v))}));L.displayName="FormLabel",L.defaultProps={column:!1,srOnly:!1};var R=L,V=l.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.className,i=e.as,o=void 0===i?"small":i,u=e.muted,d=Object(r.a)(e,["bsPrefix","className","as","muted"]);return a=Object(p.b)(a,"form-text"),l.a.createElement(o,Object(n.a)({},d,{ref:t,className:c()(s,a,u&&"text-muted")}))}));V.displayName="FormText";var B=V,H=l.a.forwardRef((function(e,t){return l.a.createElement(P,Object(n.a)({},e,{ref:t,type:"switch"}))}));H.displayName="Switch",H.Input=P.Input,H.Label=P.Label;var T=H,A=a(34),D=l.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.inline,i=e.className,o=e.validated,u=e.as,d=void 0===u?"form":u,m=Object(r.a)(e,["bsPrefix","inline","className","validated","as"]);return a=Object(p.b)(a,"form"),l.a.createElement(d,Object(n.a)({},m,{ref:t,className:c()(i,o&&"was-validated",s&&a+"-inline")}))}));D.displayName="Form",D.defaultProps={inline:!1},D.Row=Object(A.a)("form-row"),D.Group=I,D.Control=_,D.Check=P,D.File=g,D.Switch=T,D.Label=R,D.Text=B;t.a=D},108:function(e,t,a){"use strict";var n=a(3),r=a(5),s=a(7),c=a.n(s),i=a(0),l=a.n(i),o=a(8),u=["xl","lg","md","sm","xs"],d=l.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.className,i=e.noGutters,d=e.as,m=void 0===d?"div":d,f=Object(r.a)(e,["bsPrefix","className","noGutters","as"]),b=Object(o.b)(a,"row"),p=b+"-cols",v=[];return u.forEach((function(e){var t,a=f[e];delete f[e];var n="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"===typeof a?a.cols:a)&&v.push(""+p+n+"-"+t)})),l.a.createElement(m,Object(n.a)({ref:t},f,{className:c.a.apply(void 0,[s,b,i&&"no-gutters"].concat(v))}))}));d.displayName="Row",d.defaultProps={noGutters:!1},t.a=d},109:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(112),c=a(54),i=a(102),l=a(18);t.a=function(e){var t=Object(l.c)((function(e){return e.person.personSuccess})),a=Object(l.c)((function(e){return e.message.messageSuccess})),n=Object(l.c)((function(e){return e.resource.deleteResourceSuccess})),o=Object(l.c)((function(e){return e.person.deleteLoading})),u=Object(l.c)((function(e){return e.resource.deleteLoading})),d=Object(l.c)((function(e){return e.message.deleteLoading})),m=Object(l.c)((function(e){return e.message.error})),f=Object(l.c)((function(e){return e.person.error})),b=Object(l.c)((function(e){return e.resource.error})),p="Understood",v="primary";return o||u||d?p=r.a.createElement(i.a,null):t||n||a?(v="success",p="Deleted"):(f||b||m)&&(v="danger",p="Failed"),r.a.createElement(s.a,{show:e.show,onHide:e.cancelHandler,backdrop:"static",keyboard:!1},r.a.createElement(s.a.Header,{closeButton:!0},r.a.createElement(s.a.Title,null,e.title)),r.a.createElement(s.a.Body,null,e.children),r.a.createElement(s.a.Footer,null,r.a.createElement(c.a,{variant:"secondary",onClick:function(){return e.cancelHandler()}},"Close"),r.a.createElement(c.a,{variant:v,onClick:function(){return e.acceptHandler(e.itemId,e.type)}},p)))}},116:function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(6),c=a(12),i=a(40),l=a(0),o=a.n(l),u=a(18),d=a(117),m=a.n(d),f=a(105),b=a(54),p=a(102);t.a=function(e){var t=Object(l.useState)(null),a=Object(i.a)(t,2),n=a[0],d=a[1],v=Object(u.c)((function(e){return e.auth.user})),O=Object(u.c)((function(e){return e.auth.token})),j=Object(u.c)((function(e){return e.person.loading})),x=e.currentPerson,E=e.id,P=e.type,y=e.submitHandler,h=e.setValidations,N=Object(u.b)();Object(l.useEffect)((function(){x&&d(x.name)}),[N,x]);var k=function(){var e=[];return(null===n||n.length<1)&&(e=[].concat(Object(c.a)(e),["Make sure no fields are blank"])),e.length>0?(h(e),!1):(h(null),!0)},w=function(){var e=Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="edit"===P?{name:n,modifiedBy:v.id,position:x.position,token:O,id:E}:{name:n,createdBy:v.id,token:O},a=k(),e.next=4,y(k,t);case 4:a&&"add"===P&&d("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=j?o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,null)," Submitting..."):"Submit";return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,null,o.a.createElement("div",{className:m.a.Option},o.a.createElement("b",null,"Name:")),o.a.createElement(f.a.Control,{type:"text",placeholder:"PERSON NAME",value:n||"",onChange:function(e){return t=e.target.value,void d(t);var t}})),o.a.createElement("br",null),o.a.createElement("center",null,o.a.createElement(b.a,{variant:"primary",disabled:!!j,onClick:function(){return w()}},g)))}},117:function(e,t,a){e.exports={Option:"PersonForm_Option__1-5cD"}},178:function(e,t,a){e.exports={PersonPage:"PersonPage_PersonPage__1XfEl",PersonButtons:"PersonPage_PersonButtons__2xnz3",validations:"PersonPage_validations__3Knuz",success:"PersonPage_success__2mPwZ"}},179:function(e,t,a){e.exports={ListContainer:"Persons_ListContainer__1Hu3b",ButtonsContainer:"Persons_ButtonsContainer__1urnu",PositionButtons:"Persons_PositionButtons__18VXL",Name:"Persons_Name__elof-",PersonLink:"Persons_PersonLink__34P6T",Icons:"Persons_Icons__1vc7r",Icon:"Persons_Icon__2Cp8U"}},199:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),s=a(6),c=a(40),i=a(0),l=a.n(i),o=a(18),u=a(22),d=a(178),m=a.n(d),f=a(179),b=a.n(f),p=a(10),v=a(110),O=a(54),j=a(55),x=a(108),E=a(101),P=a(107),y=a(103),h=a(109),N=a(41),k=Object(p.h)((function(e){var t=Object(i.useState)(!1),a=Object(c.a)(t,2),n=a[0],d=a[1],m=Object(i.useState)(null),f=Object(c.a)(m,2),p=f[0],k=f[1],w=Object(o.c)((function(e){return e.persons.persons})).sort((function(e,t){return e.position-t.position})),g=Object(o.c)((function(e){return e.person.positionLoading})),C=Object(o.c)((function(e){return e.auth.user})),_=Object(o.c)((function(e){return e.auth.token})),F=Object(o.b)();Object(i.useEffect)((function(){F(Object(u.F)())}),[F]);var I=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(Object(u.o)(t,_));case 2:return e.next=4,F(Object(u.F)());case 4:d(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/persons/position/".concat(t),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n,s,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("up"!==t){e.next=22;break}return e.next=3,S(a);case 3:if(n=e.sent,1!==a){e.next=10;break}return e.next=7,S(w.length);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,S(a-1);case 12:e.t0=e.sent;case 13:return s=e.t0,e.next=16,F(Object(u.w)({id:n.data._id,position:s.data.position,modifiedBy:C.id,token:_}));case 16:return e.next=18,F(Object(u.w)({id:s.data._id,position:n.data.position,modifiedBy:C.id,token:_}));case 18:return e.next=20,F(Object(u.F)());case 20:e.next=41;break;case 22:return e.next=24,S(a);case 24:if(c=e.sent,a!==w.length){e.next=31;break}return e.next=28,S(1);case 28:e.t1=e.sent,e.next=34;break;case 31:return e.next=33,S(a+1);case 33:e.t1=e.sent;case 34:return i=e.t1,e.next=37,F(Object(u.w)({id:c.data._id,position:i.data.position,modifiedBy:C.id,token:_}));case 37:return e.next=39,F(Object(u.w)({id:i.data._id,position:c.data.position,modifiedBy:C.id,token:_}));case 39:return e.next=41,F(Object(u.F)());case 41:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),R=l.a.createElement(l.a.Fragment,null,"Are you sure you want to delete this item?"),V=g?l.a.createElement(N.a,null):null,B=null;return B=w.length>0?w.map((function(t,a){var n="SUPER_ADMIN"===C.role?l.a.createElement(O.a,{onClick:function(){return e=t._id,k(e),F(Object(u.x)()),void d(!0);var e},variant:"danger"},"Delete"):null;return l.a.createElement(j.a,{key:a},l.a.createElement(x.a,{style:{justifyContent:"center"}},l.a.createElement(E.a,{sm:"5"},l.a.createElement(v.a.Item,{className:b.a.ListContainer},l.a.createElement("div",{className:b.a.Name},t.name),l.a.createElement("div",{className:b.a.ButtonsContainer},l.a.createElement("div",{className:b.a.Icons},l.a.createElement(O.a,{variant:"secondary",onClick:function(){return function(t){e.history.push({pathname:"persons/".concat(t._id),passedPerson:t})}(t)},className:b.a.Icon},"Edit")," ",n),l.a.createElement("div",{className:b.a.PositionButtons},l.a.createElement(P.a,{icon:y.g,onClick:function(){return L("up",t.position)},style:{cursor:"pointer"}}),l.a.createElement(P.a,{icon:y.f,onClick:function(){return L("down",t.position)},style:{cursor:"pointer"}})))),l.a.createElement("br",null))))})):"No persons yet",l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{show:n,itemId:p,cancelHandler:function(){d(!1)},acceptHandler:I,title:"Delete"},R),V,l.a.createElement(v.a,null,B))})),w=a(106),g=a(116);t.default=function(e){var t=Object(i.useState)(null),a=Object(c.a)(t,2),n=a[0],d=a[1],f=Object(o.c)((function(e){return e.person.personSuccess})),b=Object(o.c)((function(e){return e.person.error})),p=Object(o.b)();Object(i.useEffect)((function(){return function(){return p(Object(u.b)())}}),[p]);var v=function(){var e=Object(s.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t()){e.next=6;break}return e.next=4,p(Object(u.a)(a));case 4:return e.next=6,p(Object(u.F)());case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return l.a.createElement(j.a,null,l.a.createElement(w.a,null,l.a.createElement("center",null,l.a.createElement("h1",null,"Add Person"),l.a.createElement("br",null),l.a.createElement(E.a,{lg:"5"},l.a.createElement(g.a,{setValidations:d,submitHandler:v,type:"add"}),l.a.createElement("br",null),l.a.createElement("span",{className:m.a.validations},n?l.a.createElement(l.a.Fragment,null,n.join(", ")," ",l.a.createElement("br",null)):null,b),l.a.createElement("span",{className:m.a.success},f&&!n?"SUCCESS! Person updated.":null)))),l.a.createElement("center",null,l.a.createElement("h2",null,"Persons")),l.a.createElement("br",null),l.a.createElement(k,null))}}}]);
//# sourceMappingURL=10.026a5596.chunk.js.map